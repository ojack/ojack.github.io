/*! Fetch Inject | Copyright (C) VHS <vhsdev@tutanota.com> | @license Zlib */const h=function(d,n,c,o,l,t,e){t=n.createElement(c),e=n.getElementsByTagName(c)[0],t.appendChild(n.createTextNode(o.text)),t.onload=l(o),e?e.parentNode.insertBefore(t,e):n.head.appendChild(t)};export default async(d,n,{fetch:c}=globalThis)=>{const o=[],l=n?[].concat(n):[],t=[];return d.forEach(e=>l.push(c(e).then(a=>[a.clone().text(),a.blob()]).then(async a=>{const[s,i]=await Promise.all(a);o.push({text:s,blob:i})}))),await Promise.all(l),o.forEach(e=>t.push({then:a=>{const s=i=>h(globalThis,document,i,e,a);typeof document<"u"?e.blob.type.includes("text/css")?s("style"):s("script"):a(e)}})),await Promise.all(t)};
